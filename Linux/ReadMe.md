# 리눅스

## 1. Inode


## 2. Link (Symbolic, Hard)
|구분|하드 링크|심볼릭링크|
|--|--|--|
|생성 명령어|ln 원본파일 링크파일|ln -s 원본파일 링크파일 |
|생성 종류|파일만 생성|디렉토리,파일 생성|
|링크 기능|원본파일(inode)에 대한 포인터|파일/디렉토리 이름에 대한 링크를 가리킴|
|원본 파일 삭제 시|액세스 가능|액세스 불가|
|Inode 번호|inode 같음|inode 다름|
|용량|추가적인 용량 없음|추가 용량 차지|
|다른 파티션 링크|다른 파티션에 링크 불가|다른 파티션에 링크 가능|

> 링크된 파일에서 내용을 수정해도 그 내용이 원본 파일에 똑같이 반영됨<br>
> > 모든 링크를 하드 링크로 사용하지 않을까 ???
> 파티션을 나눠 관리할경우 하드링크의 경우 링크가 깨지기때문에 심볼릭 링크가 적절할수있다.

### 2.1 링크 사용시기
**심볼릭 링크**
1. 서로 다른 파티션(파일 시스템)에 링크할 경우 사용
2. 디렉토리를 링크할 경우 사용

<br>
**하드 링크**
<br>

1. 저장 공간 : 하드링크는 진짜로 데이터를 복사한게 아니라 이미 존재한 데이터의 위치만 가리키기에 용량 차지 하지않음.
2. 성능 : 다른 파일을 거치지 않으므로 성능이 약간 좋음.
3. 파일 위치 이동 : 같은 파일 시스템 내에서 다른 위치로 옮기면 하드링크는 동작하지만 소프트링크는 실패
4. 안전성 : 심볼릭 링크보다 데이터 안전성이 우수



## 3. Permission
|퍼미션|문자|파일 |디렉토리|
|--|--|--|--|
|read|r|내용 확인 / 복사 가능|디렉토리 내용 확인 가능 (ls)|
|write|w|파일 내용 수정 가능|실행 권한이 있을 경우 디렉토리내 파일 추가 및 삭제 가능|
|execute|x|실행 파일일 경우 실행가능<br>쉘 스크립트의 경우, r-x권한이 있으면 실행가능|cd 명령어로 접근가능. r권한이 있을경우 ls -l 디렉토리 내용 확인 가능|

> 디렉 토리에 실행 권한만 없을경우(rw-) 해당 디렉토리내 파일 추가/삭제가 가능 한가?
디렉토리에 읽기 권한만 없을경우(-wx) ls -l 가능 한가?


### 3.1 리눅스 read, write, execute (rwx)
**file rwx**
- **read**
file의 data block을 통해 실제 디스크의 데ㅐ이터 섹터로 접근 후 그 내용을 표준 출력 or 지정된 터미널로 출력

- **write**
file의 data block을 통해 실제 디스크의 데이터 섹터 접근후 표준 입력 or 데이터를 접근 한 섹터에 write 하는 과정

- **execute**
file의 data block을 통해 접근한 데이터 섹터의 파일 내용에 access하는 것
<br>

**directory rwx**

- **read**
directory의 data block을 통해 실제 디스크의 데이터 섹터로 접근 후 그 내용을 표준 출력 or 지정된 터미널로 출력

- **write**
directory의 data block을 통해 실제 디스크의 데이터 섹터 접근후 표준 입력 or 데이터를 접근 한 섹터에 write 하는 과정

- **execute**
directory의 data block을 통해 접근한 데이터 섹터의 파일 내용에 access하는 것

read : cat head tail ls<br>
write : mkdir > >> touch cp mv rm rmdir<br>
exxecute : cd<br>


### 3.2 chmod
r(4)w(2)x(1)로 부여가능
- 8진수 모드
``rwx/rwx/rwx  = user/group/others``
``chmod 777 test1``

- 심볼릭 모드
``chmod "mode" test1``


|옵션|설명|
|--|--|
|ugoa|u = user<br>g = group <br>o = others<br>a = all|
|+-=|+ 권한 추가<br>- 권한 삭제 <br> = 입력된 권한만 추가 (입력 안된 권한들은 삭제된다.)|
|rwx|read write execute|

> chmod로 심볼릭 링크와 시스템 콜의 권한을 바꿀수 없다.
